<html>
    <head>
        <title>Axios</title>

        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <script>
            function sendGet(){
                axios({
                    method: "get",
                    url: "http://localhost:8080/receive",
                    params:{
                        name: "codee"
                    }
                    // get으로 보낼 때는 data가 아니라 params다.
                }).then((a)=>{return a.data;})
                .then((d)=>{
                    alert(d.message);
                });
                // }).then((response)=>{console.log(response);});
            }
            function sendPost(){
                axios({
                    method: "post",
                    url: "http://localhost:8080/receive",
                    data: {
                        name: "codee"
                    }
                }).then((a) => {return a.data;})
                .then((d) => {
                    alert(d.message);
                });
            }
            function sendForm(){
                var form = document.getElementById("form_info");
                console.log(form);

                var result = form.checkValidity();
                if(!result){
                    form.reportValidity();

                    return false;
                }
                console.log(result);

                // console.log(form.name.value);
                // console.log(form.age.value);

                // axios({
                //     method: "post",
                //     url: "http://localhost:8080/receive",
                //     data: {
                //         name: form.name.value
                //     }
                // }).then((a) => {return a.data;})
                // .then((d) => {
                //     alert(d.message);
                // });
            }
        </script>
    </head>
    <body>
        <button onclick="sendGet();">sendGet</button>
        <button onclick="sendPost();">sendPost</button>  

        <form id="form_info">
            <input type="text" name="name" required>
            <input type="text" name="age" required>
            <button type="button" onclick="sendForm()">sendForm</button>
        </form>

        <!-- <form action="/receive"> -->
            <!-- <input type="text" name="name"> -->
            <!-- <button type="button" onclick="sendPost();">버튼</button> -->
        <!-- </form> -->
        
        <!-- button type 값은 지정하지 않으면 기본값은 submit
        submit은 form을 기본적으로 전송한다. form전송을 하면 페이지가 이동한다.
        onclick은 함수를 전송한다. 
        이를 동시에 한다고 했을 때 함수를 볼 수가 없게 된다. 왜냐하면 페이지가 바꾸기 때문이다. 
        그래서 위와 같이 form안에서 button type을 "button"이라 submit을 해줘야 한다. -->
    </body>
</html>